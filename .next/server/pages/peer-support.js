"use strict";(()=>{var e={};e.id=1630,e.ids=[1630],e.modules={9955:(e,a,t)=>{t.r(a),t.d(a,{config:()=>N,default:()=>f,getServerSideProps:()=>C,getStaticPaths:()=>j,getStaticProps:()=>v,reportWebVitals:()=>S,routeModule:()=>_,unstable_getServerProps:()=>E,unstable_getServerSideProps:()=>k,unstable_getStaticParams:()=>F,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>w});var s={};t.r(s),t.d(s,{default:()=>b,getStaticProps:()=>y});var r=t(7093),n=t(5244),i=t(1323),l=t(9694),o=t(5545),c=t(997),u=t(6689),d=t(1377),g=t(5460),m=t(968),p=t.n(m),h=t(7338),x=t(4160);let D=({preferences:e,onUpdatePreferences:a,onComplete:t,availableLanguages:s,availableCountries:r,availableInterests:n})=>{let[i,l]=(0,u.useState)(1),o=(t,s)=>{a({...e,[t]:s})},d=(t,s)=>{a({...e,privacySettings:{...e.privacySettings,[t]:s}})},g=(e,a)=>e.includes(a)?e.filter(e=>e!==a):[...e,a];return(0,c.jsxs)("div",{className:"space-y-6",children:[c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i/4*100}%`}})}),(0,c.jsxs)("div",{className:"min-h-[300px]",children:[1===i&&(0,c.jsxs)("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-center",children:"What should we call you?"}),c.jsx("p",{className:"text-gray-600 text-center",children:"Choose a display name that others will see in chat groups. This helps maintain your privacy while allowing meaningful connections."}),(0,c.jsxs)("div",{className:"space-y-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),c.jsx("input",{type:"text",value:e.displayName,onChange:e=>o("displayName",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., FriendlyHelper, SupportSeeker...",maxLength:20}),c.jsx("p",{className:"text-xs text-gray-500",children:"\uD83D\uDCA1 Tip: Choose something positive and friendly. Avoid using your real name for privacy."})]})]}),2===i&&(0,c.jsxs)("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-center",children:"Which languages do you speak?"}),c.jsx("p",{className:"text-gray-600 text-center",children:"Select all languages you're comfortable chatting in. This helps us match you with the right groups."}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.map(a=>c.jsx("button",{onClick:()=>o("languages",g(e.languages,a.code)),className:`p-3 rounded-lg border-2 transition-all ${e.languages.includes(a.code)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xl",children:a.flag}),c.jsx("span",{className:"text-sm font-medium",children:a.name})]})},a.code))})]}),3===i&&(0,c.jsxs)("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-center",children:"What topics interest you?"}),c.jsx("p",{className:"text-gray-600 text-center",children:"Select areas where you'd like to give or receive support. This helps us suggest relevant groups."}),c.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:n.map(a=>c.jsx("button",{onClick:()=>o("interests",g(e.interests,a.id)),className:`p-3 rounded-lg border-2 transition-all text-left ${e.interests.includes(a.id)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xl",children:a.icon}),c.jsx("span",{className:"text-sm font-medium",children:a.name})]})},a.id))}),c.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsx("p",{className:"text-sm text-yellow-800",children:"\uD83D\uDCA1 Optional: You can skip this step and explore groups later, or select just a few to start."})})]}),4===i&&(0,c.jsxs)("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-center",children:"Privacy Settings"}),c.jsx("p",{className:"text-gray-600 text-center",children:"Control what information you share and how long your messages are kept."}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"font-medium",children:"Show Country of Origin"}),c.jsx("input",{type:"checkbox",checked:e.privacySettings.showCountryOfOrigin,onChange:e=>d("showCountryOfOrigin",e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Allow others to see your country of origin to find people from similar backgrounds."})]}),(0,c.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"font-medium",children:"Allow Direct Messages"}),c.jsx("input",{type:"checkbox",checked:e.privacySettings.allowDirectMessages,onChange:e=>d("allowDirectMessages",e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Let other users send you private messages outside of group chats."})]}),(0,c.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[c.jsx("label",{className:"block font-medium mb-2",children:"Message Retention"}),(0,c.jsxs)("select",{value:e.privacySettings.dataRetention,onChange:e=>d("dataRetention",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"minimal",children:"Minimal (7 days)"}),c.jsx("option",{value:"standard",children:"Standard (30 days)"}),c.jsx("option",{value:"extended",children:"Extended (90 days)"})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How long your messages are kept before being automatically deleted."})]}),c.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:c.jsx("p",{className:"text-sm text-green-800",children:"\uD83D\uDD12 Your privacy is important. You can change these settings anytime in your profile."})})]})]})]}),(0,c.jsxs)("div",{className:"flex justify-between pt-6",children:[c.jsx("button",{onClick:()=>{i>1&&l(i-1)},disabled:1===i,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),c.jsx("button",{onClick:()=>{i<4?l(i+1):t()},disabled:!(()=>{switch(i){case 1:return e.displayName.trim().length>0;case 2:return e.languages.length>0;case 3:case 4:return!0;default:return!1}})(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:4===i?"Start Chatting":"Next"})]})]})},y=async({locale:e})=>({props:{...await (0,g.serverSideTranslations)(e??"en",["common"])}}),b=()=>{let{t:e}=(0,d.useTranslation)("common"),[a]=(0,u.useState)(()=>new x.Z),[t,s]=(0,u.useState)(null),[r,n]=(0,u.useState)(!0),[i,l]=(0,u.useState)({displayName:"",languages:[],countryOfOrigin:"",interests:[],privacySettings:{showCountryOfOrigin:!1,showLanguages:!0,allowDirectMessages:!0,dataRetention:"standard"}});(0,u.useEffect)(()=>{let e=localStorage.getItem("peer_chat_user_id");e&&(s(e),n(!1))},[]);let o=async()=>{try{let e=await a.registerUser({displayName:i.displayName||`User${Math.floor(1e3*Math.random())}`,languagePreferences:i.languages,countryOfOrigin:i.countryOfOrigin||void 0,interests:i.interests,privacySettings:i.privacySettings});s(e.id),localStorage.setItem("peer_chat_user_id",e.id),n(!1)}catch(e){console.error("Failed to complete onboarding:",e)}};return r?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(p(),{children:[c.jsx("title",{children:"Peer Support Chat - SATA Mental Health"}),c.jsx("meta",{name:"description",content:"Connect with peers who understand your journey. Join supportive groups based on language, culture, and shared experiences."})]}),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,c.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-8",children:[(0,c.jsxs)("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:"\uD83E\uDD1D"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome to Peer Support Chat"}),c.jsx("p",{className:"text-gray-600",children:"Connect with others who understand your journey. Set up your profile to find the right support groups for you."})]}),c.jsx(D,{preferences:i,onUpdatePreferences:l,onComplete:o,availableLanguages:[{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"zh",name:"中文 (Chinese)",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{code:"bn",name:"বাংলা (Bengali)",flag:"\uD83C\uDDE7\uD83C\uDDE9"},{code:"ta",name:"தமிழ் (Tamil)",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"my",name:"မြန်မာ (Myanmar)",flag:"\uD83C\uDDF2\uD83C\uDDF2"},{code:"idn",name:"Bahasa Indonesia",flag:"\uD83C\uDDEE\uD83C\uDDE9"},{code:"th",name:"ไทย (Thai)",flag:"\uD83C\uDDF9\uD83C\uDDED"},{code:"vi",name:"Tiếng Việt (Vietnamese)",flag:"\uD83C\uDDFB\uD83C\uDDF3"}],availableCountries:[{code:"BD",name:"Bangladesh",flag:"\uD83C\uDDE7\uD83C\uDDE9"},{code:"IN",name:"India",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"MM",name:"Myanmar",flag:"\uD83C\uDDF2\uD83C\uDDF2"},{code:"ID",name:"Indonesia",flag:"\uD83C\uDDEE\uD83C\uDDE9"},{code:"PH",name:"Philippines",flag:"\uD83C\uDDF5\uD83C\uDDED"},{code:"TH",name:"Thailand",flag:"\uD83C\uDDF9\uD83C\uDDED"},{code:"VN",name:"Vietnam",flag:"\uD83C\uDDFB\uD83C\uDDF3"},{code:"CN",name:"China",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{code:"PK",name:"Pakistan",flag:"\uD83C\uDDF5\uD83C\uDDF0"},{code:"LK",name:"Sri Lanka",flag:"\uD83C\uDDF1\uD83C\uDDF0"}],availableInterests:[{id:"mental_health",name:"Mental Health Support",icon:"\uD83E\uDDE0"},{id:"work_stress",name:"Work Stress",icon:"\uD83D\uDCBC"},{id:"homesickness",name:"Homesickness",icon:"\uD83C\uDFE0"},{id:"language_practice",name:"Language Practice",icon:"\uD83D\uDDE3️"},{id:"cultural_exchange",name:"Cultural Exchange",icon:"\uD83C\uDF0D"},{id:"newcomer_support",name:"Newcomer Support",icon:"\uD83C\uDD95"},{id:"financial_advice",name:"Financial Advice",icon:"\uD83D\uDCB0"},{id:"healthcare_navigation",name:"Healthcare Navigation",icon:"\uD83C\uDFE5"},{id:"legal_rights",name:"Legal Rights",icon:"⚖️"},{id:"social_activities",name:"Social Activities",icon:"\uD83C\uDF89"},{id:"family_support",name:"Family Support",icon:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"},{id:"career_development",name:"Career Development",icon:"\uD83D\uDCC8"}]})]})})]}):t?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(p(),{children:[c.jsx("title",{children:"Peer Support Chat - SATA Mental Health"}),c.jsx("meta",{name:"description",content:"Connect with peers in supportive group chats"})]}),c.jsx(h.Z,{userId:t,chatSystem:a})]}):c.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin text-4xl mb-4",children:"\uD83D\uDD04"}),c.jsx("p",{children:"Setting up your chat experience..."})]})})},f=(0,i.l)(s,"default"),v=(0,i.l)(s,"getStaticProps"),j=(0,i.l)(s,"getStaticPaths"),C=(0,i.l)(s,"getServerSideProps"),N=(0,i.l)(s,"config"),S=(0,i.l)(s,"reportWebVitals"),w=(0,i.l)(s,"unstable_getStaticProps"),P=(0,i.l)(s,"unstable_getStaticPaths"),F=(0,i.l)(s,"unstable_getStaticParams"),E=(0,i.l)(s,"unstable_getServerProps"),k=(0,i.l)(s,"unstable_getServerSideProps"),_=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/peer-support",pathname:"/peer-support",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:s})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},7702:e=>{e.exports=require("events")},5315:e=>{e.exports=require("path")}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[6859,1882],()=>t(9955));module.exports=s})();