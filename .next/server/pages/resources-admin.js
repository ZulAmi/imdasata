"use strict";(()=>{var e={};e.id=2984,e.ids=[2984],e.modules={37:(e,s,a)=>{a.r(s),a.d(s,{config:()=>w,default:()=>y,getServerSideProps:()=>N,getStaticPaths:()=>f,getStaticProps:()=>j,reportWebVitals:()=>D,routeModule:()=>P,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>R,unstable_getStaticParams:()=>k,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>C});var t={};a.r(t),a.d(t,{default:()=>v,getStaticProps:()=>b});var r=a(7093),l=a(5244),i=a(1323),c=a(9694),d=a(5545),n=a(997),o=a(6689),m=a(1377),x=a(5460),u=a(645);let h=({getAnalytics:e})=>{let s=e();return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-3xl mr-4",children:"\uD83C\uDFE5"}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.totalResources}),n.jsx("div",{className:"text-gray-600",children:"Total Resources"})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-3xl mr-4",children:"\uD83D\uDC65"}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.totalUtilizations}),n.jsx("div",{className:"text-gray-600",children:"Total Utilizations"})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-3xl mr-4",children:"⭐"}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.averageRating.toFixed(1)}),n.jsx("div",{className:"text-gray-600",children:"Average Rating"})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-3xl mr-4",children:"✅"}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.resourcesByStatus.active}),n.jsx("div",{className:"text-gray-600",children:"Active Resources"})]})]})})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources by Category"}),n.jsx("div",{className:"space-y-3",children:Object.entries(s.resourcesByCategory).map(([e,a])=>(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium capitalize",children:e.replace("-"," ")}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${a/s.totalResources*100}%`}})}),n.jsx("span",{className:"text-sm text-gray-600 w-8",children:a})]})]},e))})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Utilization by Type"}),n.jsx("div",{className:"space-y-3",children:Object.entries(s.utilizationByType).map(([e,a])=>(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium capitalize",children:e.replace("_"," ")}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${a/s.totalUtilizations*100}%`}})}),n.jsx("span",{className:"text-sm text-gray-600 w-8",children:a})]})]},e))})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:"\uD83D\uDCAC Peer Support Integration"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Connect users to peer support systems for enhanced community support and 1-on-1 buddy matching."}),(0,n.jsxs)("div",{className:"mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Group Chat System"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Multi-user chat groups with auto-grouping and moderation"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[n.jsx("a",{href:"/peer-support-chat",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83D\uDE80 Launch Group Chat"}),n.jsx("a",{href:"/chat-moderation",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83D\uDEE1️ Chat Moderation"})]})]}),(0,n.jsxs)("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Gamification & Rewards"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Points, achievements, and rewards system to motivate engagement with mental health resources"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[n.jsx("a",{href:"/gamification",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83C\uDFAE Gamification Hub"}),n.jsx("a",{href:"/gamification-admin",target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83D\uDCCA Gamification Admin"})]})]}),(0,n.jsxs)("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Buddy Pairing System"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"1-on-1 peer matching with smart compatibility algorithms and safety features"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[n.jsx("a",{href:"/buddy-system",target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83E\uDD1D Launch Buddy System"}),n.jsx("a",{href:"/buddy-admin",target:"_blank",rel:"noopener noreferrer",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83D\uDCCA Buddy Admin Dashboard"})]})]})]})]})},p=({getAllFeedback:e})=>{let[s]=(0,o.useState)(e());return n.jsx("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,n.jsxs)("h2",{className:"text-lg font-semibold",children:["Recent Feedback (",s.length,")"]})}),n.jsx("div",{className:"divide-y divide-gray-200",children:s.slice(0,20).map(e=>n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"flex items-start justify-between",children:(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(s=>n.jsx("span",{className:s<=e.rating?"text-yellow-400":"text-gray-300",children:"⭐"},s))}),(0,n.jsxs)("span",{className:"text-sm text-gray-500",children:["Resource: ",e.resourceId]})]}),e.comment&&n.jsx("p",{className:"text-gray-700 mb-2",children:e.comment}),(0,n.jsxs)("div",{className:"text-sm text-gray-500",children:[e.timestamp.toLocaleDateString()," - Type: ",e.type]})]})})},e.id))})]})})},g=({resource:e,isEditing:s,onSave:a,onCancel:t,updateMultiLanguageText:r,addContactInfo:l,updateContactInfo:i,removeContactInfo:c,addService:d,updateService:m,removeService:x,addScheduleDay:u,updateScheduleDay:h,addTimeSlot:p,updateTimeSlot:g,setFormData:b})=>{let[v,y]=(0,o.useState)("basic"),j=[{code:"en",name:"English"},{code:"zh",name:"中文"},{code:"bn",name:"বাংলা"},{code:"ta",name:"தமிழ்"},{code:"my",name:"မြန်မာ"},{code:"idn",name:"Bahasa Indonesia"}],f=["phone","whatsapp","email","website","walk-in","appointment","online-chat","video-call"],N=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-screen overflow-y-auto",children:[(0,n.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s?"Edit Resource":"Add New Resource"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]}),n.jsx("div",{className:"mt-4 border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"basic",label:"Basic Info",icon:"\uD83D\uDCDD"},{id:"contact",label:"Contact",icon:"\uD83D\uDCDE"},{id:"services",label:"Services",icon:"\uD83C\uDFE5"},{id:"schedule",label:"Schedule",icon:"\uD83D\uDD52"},{id:"features",label:"Features",icon:"⭐"}].map(e=>(0,n.jsxs)("button",{onClick:()=>y(e.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${v===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[n.jsx("span",{children:e.icon}),e.label]},e.id))})})]}),(0,n.jsxs)("div",{className:"p-6",children:["basic"===v&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource ID *"}),n.jsx("input",{type:"text",value:e.id||"",onChange:e=>b(s=>({...s,id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"unique-resource-id",disabled:s})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,n.jsxs)("select",{value:e.category||"",onChange:e=>b(s=>({...s,category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select a category"}),["dormitory-based","helplines","clinics","online-services","peer-support","government-services","ngo-services","emergency-services"].map(e=>n.jsx("option",{value:e,children:e.replace("-"," ")},e))]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Name *"}),n.jsx("div",{className:"space-y-3",children:j.map(s=>(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:s.name}),n.jsx("input",{type:"text",value:e.name?.[s.code]||"",onChange:e=>r("name",s.code,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:`Resource name in ${s.name}`})]},s.code))})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("div",{className:"space-y-3",children:j.map(s=>(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:s.name}),n.jsx("textarea",{value:e.description?.[s.code]||"",onChange:e=>r("description",s.code,e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:`Description in ${s.name}`})]},s.code))})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("div",{className:"space-y-3",children:j.map(s=>(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:s.name}),n.jsx("input",{type:"text",value:e.location?.address?.[s.code]||"",onChange:e=>{b(a=>({...a,location:{...a.location,address:{...a.location?.address||{},[s.code]:e.target.value}}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:`Address in ${s.name}`})]},s.code))})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),n.jsx("input",{type:"number",step:"any",value:e.location?.coordinates?.latitude||0,onChange:e=>{b(s=>({...s,location:{...s.location,coordinates:{...s.location?.coordinates,latitude:parseFloat(e.target.value)||0}}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),n.jsx("input",{type:"number",step:"any",value:e.location?.coordinates?.longitude||0,onChange:e=>{b(s=>({...s,location:{...s.location,coordinates:{...s.location?.coordinates,longitude:parseFloat(e.target.value)||0}}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]})]}),"contact"===v&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Contact Information"}),n.jsx("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Contact Method"})]}),n.jsx("div",{className:"space-y-4",children:e.contactInfo?.map((e,s)=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Method"}),n.jsx("select",{value:e.method,onChange:e=>i(s,"method",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:f.map(e=>n.jsx("option",{value:e,children:e.replace("-"," ")},e))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),n.jsx("input",{type:"text",value:e.value,onChange:e=>i(s,"value",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Contact value"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("input",{type:"text",value:e.description||"",onChange:e=>i(s,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional description"})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:e.isPrimary||!1,onChange:e=>i(s,"isPrimary",e.target.checked),className:"mr-2"}),"Primary"]})}),n.jsx("button",{onClick:()=>c(s),className:"text-red-600 hover:text-red-800",children:"Remove"})]})]},s))})]}),"services"===v&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Services Offered"}),n.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Service"})]}),n.jsx("div",{className:"space-y-6",children:e.servicesOffered?.map((e,s)=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-medium",children:["Service ",s+1]}),n.jsx("button",{onClick:()=>x(s),className:"text-red-600 hover:text-red-800",children:"Remove"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name"}),n.jsx("div",{className:"space-y-2",children:j.map(a=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:a.name}),n.jsx("input",{type:"text",value:e.service?.[a.code]||"",onChange:t=>{m(s,"service",{...e.service,[a.code]:t.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:`Service name in ${a.name}`})]},a.code))})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Description"}),n.jsx("div",{className:"space-y-2",children:j.map(a=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:a.name}),n.jsx("textarea",{value:e.description?.[a.code]||"",onChange:t=>{m(s,"description",{...e.description,[a.code]:t.target.value})},rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:`Service description in ${a.name}`})]},a.code))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost"}),n.jsxs("select",{value:e.cost,onChange:e=>m(s,"cost",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"free",children:"Free"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"sliding-scale",children:"Sliding Scale"}),n.jsx("option",{value:"insurance",children:"Insurance"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),n.jsx("input",{type:"text",value:e.duration||"",onChange:e=>m(s,"duration",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 60 minutes"})]}),n.jsx("div",{className:"flex items-center pt-6",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:e.requiresAppointment||!1,onChange:e=>m(s,"requiresAppointment",e.target.checked),className:"mr-2"}),"Requires Appointment"]})})]})]},s))})]}),"schedule"===v&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Operating Schedule"}),n.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Day"})]}),n.jsx("div",{className:"space-y-4",children:e.schedule?.map((e,s)=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),n.jsx("select",{value:e.day,onChange:e=>h(s,"day",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:N.map(e=>n.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),n.jsx("div",{className:"flex items-center pt-6",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:e.isOpen,onChange:e=>h(s,"isOpen",e.target.checked),className:"mr-2"}),"Open"]})}),n.jsx("div",{className:"flex items-center pt-6",children:n.jsx("button",{onClick:()=>p(s),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"Add Time Slot"})})]}),e.isOpen&&n.jsx("div",{className:"space-y-2",children:e.timeSlots.map((e,a)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"time",value:e.start,onChange:e=>g(s,a,"start",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),n.jsx("span",{children:"to"}),n.jsx("input",{type:"time",value:e.end,onChange:e=>g(s,a,"end",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),n.jsx("button",{onClick:()=>{b(e=>({...e,schedule:e.schedule?.map((e,t)=>t===s?{...e,timeSlots:e.timeSlots.filter((e,s)=>s!==a)}:e)||[]}))},className:"text-red-600 hover:text-red-800 px-2",children:"Remove"})]},a))})]},s))})]}),"features"===v&&(0,n.jsxs)("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Resource Features"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e.features||{}).map(([e,s])=>(0,n.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[n.jsx("input",{type:"checkbox",checked:!!s,onChange:s=>{b(a=>({...a,features:{hasChildcare:!1,providesTransportation:!1,hasOnlineOption:!1,has24HourSupport:!1,providesFollowUp:!1,hasGroupSessions:!1,hasIndividualSessions:!1,providesCrisisIntervention:!1,...a.features,[e]:s.target.checked}}))},className:"mr-3"}),n.jsx("span",{className:"font-medium",children:e.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,e=>e.toUpperCase())})]},e))}),(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"text-md font-medium mb-3",children:"Supported Languages"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:j.map(s=>(0,n.jsxs)("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:e.supportedLanguages?.includes(s.code)||!1,onChange:a=>{let t=e.supportedLanguages||[],r=a.target.checked?[...t,s.code]:t.filter(e=>e!==s.code);b(e=>({...e,supportedLanguages:r}))},className:"mr-2"}),n.jsx("span",{className:"text-sm",children:s.name})]},s.code))})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),n.jsx("input",{type:"text",value:e.tags?.join(", ")||"",onChange:e=>{let s=e.target.value.split(",").map(e=>e.trim()).filter(Boolean);b(e=>({...e,tags:s}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"mental health, counseling, crisis support"})]})]})]}),(0,n.jsxs)("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end gap-4",children:[n.jsx("button",{onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s?"Update Resource":"Create Resource"})]})]})})},b=async({locale:e})=>({props:{...await (0,x.serverSideTranslations)(e??"en",["common"])}}),v=()=>{let{t:e,i18n:s}=(0,m.useTranslation)("common"),[a]=(0,o.useState)(()=>new u.Z),[t,r]=(0,o.useState)([]),[l,i]=(0,o.useState)(null),[c,d]=(0,o.useState)(!1),[x,b]=(0,o.useState)("resources"),[v,y]=(0,o.useState)({});(0,o.useEffect)(()=>{j()},[]);let j=()=>{try{let e=a.searchResources({}).map(e=>({...e.resource,isActive:!0,createdAt:new Date,updatedAt:new Date,supportedLanguages:["en"]}));r(e)}catch(e){console.error("Failed to load resources:",e)}},f=e=>{i(e),y(e),d(!0)},N=async()=>{try{if(!v.id||!v.name?.en||!v.category){alert("Please fill in all required fields");return}let e={...v,id:v.id||`resource-${Date.now()}`,updatedAt:new Date,createdAt:v.createdAt||new Date};l?a.updateResource(e.id,e):a.addResource(e),j(),d(!1),i(null),y({})}catch(e){console.error("Failed to save resource:",e),alert("Failed to save resource. Please try again.")}},w=e=>{if(confirm("Are you sure you want to delete this resource?"))try{let s=t.filter(s=>s.id!==e);r(s)}catch(e){console.error("Failed to delete resource:",e),alert("Failed to delete resource. Please try again.")}},D=e=>{try{let s={...e,isActive:!e.isActive};a.updateResource(e.id,s),j()}catch(e){console.error("Failed to update resource status:",e)}};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"\uD83C\uDFE5 Mental Health Resources Admin"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage mental health services and resources"})]}),n.jsx("button",{onClick:()=>{i(null),y({id:"",name:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},description:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},category:"clinics",contactInfo:[],location:{address:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},coordinates:{latitude:0,longitude:0}},servicesOffered:[],schedule:[],features:{hasChildcare:!1,providesTransportation:!1,hasOnlineOption:!1,has24HourSupport:!1,providesFollowUp:!1,hasGroupSessions:!1,hasIndividualSessions:!1,providesCrisisIntervention:!1},qualityMetrics:{averageRating:0,totalReviews:0,responseTime:"24 hours",successRate:0,waitTime:"varies"},tags:[],isActive:!0,supportedLanguages:["en"]}),d(!0)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:"➕ Add New Resource"})]}),n.jsx("div",{className:"mt-6 border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"resources",label:"Resources",icon:"\uD83C\uDFE5"},{id:"analytics",label:"Analytics",icon:"\uD83D\uDCCA"},{id:"feedback",label:"Feedback",icon:"\uD83D\uDCAC"}].map(e=>(0,n.jsxs)("button",{onClick:()=>b(e.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${x===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx("span",{children:e.icon}),e.label]},e.id))})})]})}),(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:["resources"===x&&n.jsx("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,n.jsxs)("h2",{className:"text-lg font-semibold",children:["All Resources (",t.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,n.jsxs)("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("div",{className:"text-2xl mr-3",children:["dormitory-based"===e.category&&"\uD83C\uDFE0","helplines"===e.category&&"\uD83D\uDCDE","clinics"===e.category&&"\uD83C\uDFE5","online-services"===e.category&&"\uD83D\uDCBB","peer-support"===e.category&&"\uD83D\uDC65","emergency-services"===e.category&&"\uD83D\uDEA8"]}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name.en}),n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description.en})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.category.replace("-"," ")})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("button",{onClick:()=>D(e),className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${!1!==e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:!1!==e.isActive?"Active":"Inactive"})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["⭐ ",e.qualityMetrics.averageRating.toFixed(1)," (",e.qualityMetrics.totalReviews,")"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.updatedAt?.toLocaleDateString()||new Date().toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit",children:"✏️"}),n.jsx("button",{onClick:()=>w(e.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:"\uD83D\uDDD1️"})]})})]},e.id))})]})})]})}),"analytics"===x&&n.jsx(h,{getAnalytics:()=>{let e=t.filter(e=>!1!==e.isActive).length,s=t.length-e,a={};return t.forEach(e=>{a[e.category]=(a[e.category]||0)+1}),{totalResources:t.length,totalUtilizations:10*t.length,averageRating:t.reduce((e,s)=>e+s.qualityMetrics.averageRating,0)/t.length||0,resourcesByStatus:{active:e,inactive:s},resourcesByCategory:a,utilizationByType:{phone_calls:45,walk_ins:32,online_sessions:23}}}}),"feedback"===x&&n.jsx(p,{getAllFeedback:()=>[{id:"feedback-1",resourceId:"resource-1",rating:5,comment:"Very helpful service",type:"positive",timestamp:new Date}]})]}),c&&n.jsx(g,{resource:v,isEditing:!!l,onSave:N,onCancel:()=>{d(!1),i(null),y({})},updateMultiLanguageText:(e,s,a)=>{y(t=>({...t,[e]:{...t[e]||{},[s]:a}}))},addContactInfo:()=>{y(e=>({...e,contactInfo:[...e.contactInfo||[],{method:"phone",value:"",description:"",isPrimary:!1,languages:["en"]}]}))},updateContactInfo:(e,s,a)=>{y(t=>({...t,contactInfo:t.contactInfo?.map((t,r)=>r===e?{...t,[s]:a}:t)||[]}))},removeContactInfo:e=>{y(s=>({...s,contactInfo:s.contactInfo?.filter((s,a)=>a!==e)||[]}))},addService:()=>{y(e=>({...e,servicesOffered:[...e.servicesOffered||[],{service:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},description:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},cost:"free",duration:"",requiresAppointment:!0,languages:["en"]}]}))},updateService:(e,s,a)=>{y(t=>({...t,servicesOffered:t.servicesOffered?.map((t,r)=>r===e?{...t,[s]:a}:t)||[]}))},removeService:e=>{y(s=>({...s,servicesOffered:s.servicesOffered?.filter((s,a)=>a!==e)||[]}))},addScheduleDay:()=>{y(e=>({...e,schedule:[...e.schedule||[],{day:"monday",isOpen:!0,timeSlots:[]}]}))},updateScheduleDay:(e,s,a)=>{y(t=>({...t,schedule:t.schedule?.map((t,r)=>r===e?{...t,[s]:a}:t)||[]}))},addTimeSlot:e=>{y(s=>({...s,schedule:s.schedule?.map((s,a)=>a===e?{...s,timeSlots:[...s.timeSlots,{start:"09:00",end:"17:00"}]}:s)||[]}))},updateTimeSlot:(e,s,a,t)=>{y(r=>({...r,schedule:r.schedule?.map((r,l)=>l===e?{...r,timeSlots:r.timeSlots.map((e,r)=>r===s?{...e,[a]:t}:e)}:r)||[]}))},setFormData:y})]})},y=(0,i.l)(t,"default"),j=(0,i.l)(t,"getStaticProps"),f=(0,i.l)(t,"getStaticPaths"),N=(0,i.l)(t,"getServerSideProps"),w=(0,i.l)(t,"config"),D=(0,i.l)(t,"reportWebVitals"),C=(0,i.l)(t,"unstable_getStaticProps"),S=(0,i.l)(t,"unstable_getStaticPaths"),k=(0,i.l)(t,"unstable_getStaticParams"),A=(0,i.l)(t,"unstable_getServerProps"),R=(0,i.l)(t,"unstable_getServerSideProps"),P=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/resources-admin",pathname:"/resources-admin",bundlePath:"",filename:""},components:{App:d.default,Document:c.default},userland:t})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")}};var s=require("../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[6859,3877],()=>a(37));module.exports=t})();