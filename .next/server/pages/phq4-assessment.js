(()=>{var e={};e.id=3872,e.ids=[3872,2888,660],e.modules={1788:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>p,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>g,routeModule:()=>N,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>b});var r=s(7093),n=s(5244),i=s(1323),l=s(9694),o=s(5545),d=s(549),c=e([d]);d=(c.then?(await c)():c)[0];let m=(0,i.l)(d,"default"),u=(0,i.l)(d,"getStaticProps"),h=(0,i.l)(d,"getStaticPaths"),x=(0,i.l)(d,"getServerSideProps"),p=(0,i.l)(d,"config"),g=(0,i.l)(d,"reportWebVitals"),b=(0,i.l)(d,"unstable_getStaticProps"),y=(0,i.l)(d,"unstable_getStaticPaths"),v=(0,i.l)(d,"unstable_getStaticParams"),j=(0,i.l)(d,"unstable_getServerProps"),f=(0,i.l)(d,"unstable_getServerSideProps"),N=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/phq4-assessment",pathname:"/phq4-assessment",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:d});a()}catch(e){a(e)}})},5545:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(997),r=s(1377);s(108);let n=(0,r.appWithTranslation)(function({Component:e,pageProps:t}){return a.jsx(e,{...t})})},9694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(997),r=s(6859);function n(){return(0,a.jsxs)(r.Html,{children:[(0,a.jsxs)(r.Head,{children:[a.jsx("link",{rel:"manifest",href:"/manifest.json"}),a.jsx("meta",{name:"theme-color",content:"#000000"})]}),(0,a.jsxs)("body",{children:[a.jsx(r.Main,{}),a.jsx(r.NextScript,{})]})]})}},549:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>u,getStaticProps:()=>h});var r=s(997),n=s(1377),i=s(5460),l=s(1664),o=s.n(l),d=s(6689),c=s(6555),m=e([c]);function u(){let{t:e,i18n:t}=(0,n.useTranslation)("common"),[s,a]=(0,d.useState)(0),[i,l]=(0,d.useState)([]),[m,u]=(0,d.useState)(!1),[h,x]=(0,d.useState)(!1),[p,g]=(0,d.useState)(null),[b,y]=(0,d.useState)(""),[v,j]=(0,d.useState)(!1),[f,N]=(0,d.useState)(!1),w=(0,d.useRef)(null),S=[{id:"q1",en:{text:"Little interest or pleasure in doing things",description:"Over the last 2 weeks, how often have you been bothered by little interest or pleasure in doing things?"},zh:{text:"对事物缺乏兴趣或愉悦感",description:'在过去2周里，您有多频繁地被"对事物缺乏兴趣或愉悦感"所困扰？'},bn:{text:"কাজকর্মে আগ্রহ বা আনন্দের অভাব",description:"গত ২ সপ্তাহে, কাজকর্মে আগ্রহ বা আনন্দের অভাব নিয়ে আপনি কতবার বিরক্ত হয়েছেন?"},ta:{text:"விஷயங்களில் ஆர்வம் அல்லது மகிழ்ச்சி குறைவு",description:"கடந்த 2 வாரங்களில், விஷயங்களில் ஆர்வம் அல்லது மகிழ்ச்சி குறைவால் எத்தனை முறை நீங்கள் தொந்தரவு அடைந்தீர்கள்?"},my:{text:"အရာရာတွေကို စိတ်မ၀င်စားဖြစ်ခြင်း",description:"လွန်ခဲ့သော ၂ ပတ်အတွင်း အရာရာတွေကို စိတ်မ၀င်စားဖြစ်ခြင်းကြောင့် ဘယ်လောက်မကြာခဏ စိတ်ညစ်ခဲ့ရပါသလဲ?"},idn:{text:"Kurang minat atau kesenangan dalam melakukan hal-hal",description:"Dalam 2 minggu terakhir, seberapa sering Anda terganggu oleh kurangnya minat atau kesenangan dalam melakukan hal-hal?"}},{id:"q2",en:{text:"Feeling down, depressed, or hopeless",description:"Over the last 2 weeks, how often have you been bothered by feeling down, depressed, or hopeless?"},zh:{text:"感到沮丧、抑郁或绝望",description:'在过去2周里，您有多频繁地被"感到沮丧、抑郁或绝望"所困扰？'},bn:{text:"মন খারাপ, বিষণ্ণ বা আশাহীন বোধ করা",description:"গত ২ সপ্তাহে, মন খারাপ, বিষণ্ণ বা আশাহীন বোধ করার কারণে আপনি কতবার বিরক্ত হয়েছেন?"},ta:{text:"மனம் வருந்துதல், மனச்சோர்வு அல்லது நம்பிக்கையின்மை",description:"கடந்த 2 வாரங்களில், மனம் வருந்துதல், மனச்சோர்வு அல்லது நம்பிக்கையின்மையால் எத்தனை முறை நீங்கள் தொந்தரவு அடைந்தீர்கள்?"},my:{text:"စိတ်ညစ်ခြင်း၊ စိတ်ဓာတ်ကျခြင်း သို့မဟုတ် မျှော်လင့်ချက်မရှိခြင်း",description:"လွန်ခဲ့သော ၂ ပတ်အတွင်း စိတ်ညစ်ခြင်း၊ စိတ်ဓာတ်ကျခြင်း သို့မဟုတ် မျှော်လင့်ချက်မရှိခြင်းကြောင့် ဘယ်လောက်မကြာခဏ စိတ်ညစ်ခဲ့ရပါသလဲ?"},idn:{text:"Merasa sedih, tertekan, atau putus asa",description:"Dalam 2 minggu terakhir, seberapa sering Anda terganggu oleh perasaan sedih, tertekan, atau putus asa?"}},{id:"q3",en:{text:"Feeling nervous, anxious, or on edge",description:"Over the last 2 weeks, how often have you been bothered by feeling nervous, anxious, or on edge?"},zh:{text:"感到紧张、焦虑或烦躁",description:'在过去2周里，您有多频繁地被"感到紧张、焦虑或烦躁"所困扰？'},bn:{text:"নার্ভাস, উদ্বিগ্ন বা অস্থির বোধ করা",description:"গত ২ সপ্তাহে, নার্ভাস, উদ্বিগ্ন বা অস্থির বোধ করার কারণে আপনি কতবার বিরক্ত হয়েছেন?"},ta:{text:"பதட்டம், கவலை அல்லது அமைதியின்மை",description:"கடந்த 2 வாரங்களில், பதட்டம், கவலை அல்லது அமைதியின்மையால் எத்தனை முறை நீங்கள் தொந்தரவு அடைந்தீர்கள்?"},my:{text:"စိတ်လှုပ်ရှားခြင်း၊ စိုးရိမ်ခြင်း သို့မဟုတ် စိတ်မအေးခြင်း",description:"လွန်ခဲ့သော ၂ ပတ်အတွင်း စိတ်လှုပ်ရှားခြင်း၊ စိုးရိမ်ခြင်း သို့မဟုတ် စိတ်မအေးခြင်းကြောင့် ဘယ်လောက်မကြာခဏ စိတ်ညစ်ခဲ့ရပါသလဲ?"},idn:{text:"Merasa gugup, cemas, atau gelisah",description:"Dalam 2 minggu terakhir, seberapa sering Anda terganggu oleh perasaan gugup, cemas, atau gelisah?"}},{id:"q4",en:{text:"Not being able to stop or control worrying",description:"Over the last 2 weeks, how often have you been bothered by not being able to stop or control worrying?"},zh:{text:"无法停止或控制担忧",description:'在过去2周里，您有多频繁地被"无法停止或控制担忧"所困扰？'},bn:{text:"চিন্তা বন্ধ করতে বা নিয়ন্ত্রণ করতে না পারা",description:"গত ২ সপ্তাহে, চিন্তা বন্ধ করতে বা নিয়ন্ত্রণ করতে না পারার কারণে আপনি কতবার বিরক্ত হয়েছেন?"},ta:{text:"கவலையை நிறுத்த அல்லது கட்டுப்படுத்த முடியாமை",description:"கடந்த 2 வாரங்களில், கவலையை நிறுத்த அல்லது கட்டுப்படுத்த முடியாததால் எத்தனை முறை நீங்கள் தொந்தரவு அடைந்தீர்கள்?"},my:{text:"စိုးရိမ်မှုကို ရပ်တန့်ခြင်း သို့မဟုတ် ထိန်းချုပ်ခြင်း မတတ်နိုင်ခြင်း",description:"လွန်ခဲ့သော ၂ ပတ်အတွင်း စိုးရိမ်မှုကို ရပ်တန့်ခြင်း သို့မဟုတ် ထိန်းချုပ်ခြင်း မတတ်နိုင်ခြင်းကြောင့် ဘယ်လောက်မကြာခဏ စိတ်ညစ်ခဲ့ရပါသလဲ?"},idn:{text:"Tidak dapat menghentikan atau mengontrol kekhawatiran",description:"Dalam 2 minggu terakhir, seberapa sering Anda terganggu oleh tidak dapat menghentikan atau mengontrol kekhawatiran?"}}],k=()=>t.language||"en",P=(e,t,s="")=>{let a=k();return e[a]&&e[a][t]?e[a][t]:e.en&&e.en[t]?e.en[t]:s},q=(e,t="")=>e[k()]||e.en||t,D=e=>{let t,s;let[a,r,n,i]=e,l=a+r+n+i,o=a+r,d=n+i;l>=12?(t="severe",s="Severe"):l>=9?(t="severe",s="Moderately Severe"):l>=6?(t="moderate",s="Moderate"):l>=3?(t="mild",s="Mild"):(t="minimal",s="Minimal");let c=A(l,o,d,t);return{q1:a,q2:r,q3:n,q4:i,totalScore:l,depressionScore:o,anxietyScore:d,severityLevel:s,riskLevel:t,recommendations:c,timestamp:new Date().toISOString(),anonymousId:b,language:k()}},A=(e,t,s,a)=>{let r=k(),n={en:{minimal:["Continue maintaining your current self-care practices","Consider regular exercise and healthy lifestyle habits","Stay connected with supportive friends and family"],mild:["Consider stress management techniques like meditation or deep breathing","Maintain regular sleep schedule and healthy diet","Connect with peer support groups for additional support"],moderate:["Consider speaking with a mental health professional","Explore counseling or therapy options","Practice daily stress reduction activities"],severe:["Seek professional mental health support immediately","Contact crisis support services if needed","Consider medical evaluation for treatment options"]},zh:{minimal:["继续保持当前的自我护理习惯","考虑定期锻炼和健康的生活方式","与支持你的朋友和家人保持联系"],mild:["考虑压力管理技巧，如冥想或深呼吸","保持规律的睡眠时间和健康饮食","联系同伴支持小组获得额外支持"],moderate:["考虑与心理健康专业人士交谈","探索咨询或治疗选择","练习日常减压活动"],severe:["立即寻求专业心理健康支持","如需要请联系危机支持服务","考虑医疗评估和治疗选择"]}},i=n[r]||n.en;return i[a]||i.minimal},C=e=>{let t=[...i];t[s]=e,l(t),s<S.length-1?a(s+1):z(t)},z=async e=>{x(!0);try{let t=D(e);if((await fetch("/api/assessment/phq4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anonymousId:t.anonymousId,q1:t.q1,q2:t.q2,q3:t.q3,q4:t.q4,language:t.language})})).ok)g(t),u(!0);else throw Error("Failed to submit assessment")}catch(s){console.error("Error submitting assessment:",s);let t=D(e);g(t),u(!0)}x(!1)};if(h)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Processing your assessment..."})]})});if(m&&p)return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"PHQ-4 Assessment Results"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-4",children:[(0,r.jsxs)("h3",{className:"font-semibold text-blue-800 mb-2",children:["Overall Score: ",p.totalScore,"/12"]}),(0,r.jsxs)("p",{className:"text-blue-700 text-sm",children:["Severity Level: ",r.jsx("span",{className:"font-medium",children:p.severityLevel})]}),(0,r.jsxs)("p",{className:"text-blue-700 text-sm",children:["Risk Level: ",r.jsx("span",{className:"font-medium capitalize",children:p.riskLevel})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded p-4",children:[r.jsx("h4",{className:"font-semibold text-purple-800 mb-1",children:"Depression Score"}),(0,r.jsxs)("p",{className:"text-purple-700",children:[p.depressionScore,"/6"]}),r.jsx("p",{className:"text-purple-600 text-xs mt-1",children:"Questions 1-2"})]}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded p-4",children:[r.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Anxiety Score"}),(0,r.jsxs)("p",{className:"text-green-700",children:[p.anxietyScore,"/6"]}),r.jsx("p",{className:"text-green-600 text-xs mt-1",children:"Questions 3-4"})]})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4",children:[r.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Recommendations"}),r.jsx("ul",{className:"text-yellow-700 text-sm space-y-1",children:p.recommendations.map((e,t)=>(0,r.jsxs)("li",{children:["• ",e]},t))})]}),"severe"===p.riskLevel&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:[r.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"\uD83D\uDEA8 Important Notice"}),r.jsx("p",{className:"text-red-700 text-sm mb-2",children:"Your scores indicate you may benefit from professional mental health support. Please consider reaching out to a healthcare provider."}),r.jsx(o(),{href:"/crisis",className:"inline-block",children:r.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700 transition-colors",children:"Access Crisis Support"})})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>{a(0),l([]),u(!1),g(null),y((0,c.v4)())},className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Take Again"}),r.jsx(o(),{href:"/dashboard",className:"flex-1",children:r.jsx("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})})]})]}),r.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:(0,r.jsxs)("p",{children:["Assessment ID: ",p.anonymousId.substring(0,8),"... | ",new Date(p.timestamp).toLocaleString()]})})]})})});let M=S[s];return k(),r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"PHQ-4 Assessment"}),r.jsx(o(),{href:"/dashboard",className:"text-blue-600 hover:text-blue-800 text-sm",children:"Back to Dashboard"})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:"This standardized assessment evaluates depression and anxiety symptoms over the past 2 weeks."}),r.jsx("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(s+1)/S.length*100}%`}})}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Question ",s+1," of ",S.length]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:P(M,"text")}),r.jsx("p",{className:"text-gray-600 text-sm mb-6",children:P(M,"description")}),f&&(0,r.jsxs)("div",{className:"mb-4 text-center",children:[r.jsx("button",{onClick:()=>{w.current&&!v&&(j(!0),w.current.start(),w.current.onresult=e=>{let t=e.results[0][0].transcript.toLowerCase(),s={en:{0:["not at all","never","zero"],1:["several days","sometimes","one"],2:["more than half","often","two"],3:["nearly every day","always","three"]},zh:{0:["完全没有","从不"],1:["几天","有时"],2:["超过一半","经常"],3:["几乎每天","总是"]},bn:{0:["একদমই না","না"],1:["কয়েক দিন","কখনো কখনো"],2:["অর্ধেকের বেশি","প্রায়ই"],3:["প্রায় প্রতিদিন","সবসময়"]},ta:{0:["சற்றும் இல்லை","இல்லை"],1:["சில நாட்கள்","சில சமயம்"],2:["பாதி நাட்களுக்கு மேல்","அடிக்கடி"],3:["கிட்டத்தட்ட தினமும்","எப்போதும்"]},my:{0:["လုံးဝမရှိ","မရှိ"],1:["ရက်သတ္တပတ်အချို့","တစ်ခါတလေ"],2:["ရက်ထက်ဝက်ကျော်","မကြာခဏ"],3:["နေ့စဉ်နီးပါး","အမြဲ"]},idn:{0:["tidak sama sekali","tidak"],1:["beberapa hari","kadang"],2:["lebih dari setengah","sering"],3:["hampir setiap hari","selalu"]}},a=s[k()]||s.en;for(let[e,s]of Object.entries(a))if(s.some(e=>t.includes(e))){C(parseInt(e));break}j(!1)},w.current.onerror=()=>{j(!1)},w.current.onend=()=>{j(!1)})},disabled:v,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${v?"bg-red-100 text-red-800 cursor-not-allowed":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:v?"\uD83C\uDFA4 Listening...":"\uD83C\uDFA4 Voice Input"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Say your answer out loud (e.g., "not at all", "several days")'})]}),r.jsx("div",{className:"space-y-3",children:[{value:0,en:"Not at all",zh:"完全没有",bn:"একদমই না",ta:"சற்றும் இல்லை",my:"လုံးဝမရှိ",idn:"Tidak sama sekali",color:"bg-green-100 border-green-300 text-green-800"},{value:1,en:"Several days",zh:"几天",bn:"কয়েক দিন",ta:"சில நாட்கள்",my:"ရက်သတ္တပတ်အချို့",idn:"Beberapa hari",color:"bg-yellow-100 border-yellow-300 text-yellow-800"},{value:2,en:"More than half the days",zh:"超过一半的天数",bn:"অর্ধেকের বেশি দিন",ta:"பாதி நாட்களுக்கு மேல்",my:"ရက်ထက်ဝက်ကျော်",idn:"Lebih dari setengah hari",color:"bg-orange-100 border-orange-300 text-orange-800"},{value:3,en:"Nearly every day",zh:"几乎每天",bn:"প্রায় প্রতিদিন",ta:"கிட்டத்தட்ட தினமும்",my:"နေ့စဉ်နီးပါး",idn:"Hampir setiap hari",color:"bg-red-100 border-red-300 text-red-800"}].map(e=>r.jsx("button",{onClick:()=>C(e.value),className:`w-full p-4 border-2 rounded-lg text-left hover:shadow-md transition-all ${e.color} hover:opacity-80`,children:(0,r.jsxs)("span",{className:"font-medium",children:[e.value,". ",q(e)]})},e.value))})]}),(0,r.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[(0,r.jsxs)("p",{children:["Your responses are anonymously stored with ID: ",b.substring(0,8),"..."]}),r.jsx("p",{className:"mt-1",children:"All data is encrypted and PDPA compliant."})]})]})})})}c=(m.then?(await m)():m)[0];let h=async({locale:e})=>({props:{...await (0,i.serverSideTranslations)(e??"en",["common"])}});a()}catch(e){a(e)}})},108:()=>{},1377:e=>{"use strict";e.exports=require("next-i18next")},5460:e=>{"use strict";e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},5315:e=>{"use strict";e.exports=require("path")},6555:e=>{"use strict";e.exports=import("uuid")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[6859,8559],()=>s(1788));module.exports=a})();