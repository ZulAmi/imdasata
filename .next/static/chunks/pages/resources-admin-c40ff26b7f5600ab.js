(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{6202:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/resources-admin",function(){return a(4671)}])},4671:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSG:function(){return o}});var t=a(5893),r=a(7294),l=a(1798),i=a(645);let d=e=>{let{getAnalytics:s}=e,a=s();return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"text-3xl mr-4",children:"\uD83C\uDFE5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:a.totalResources}),(0,t.jsx)("div",{className:"text-gray-600",children:"Total Resources"})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"text-3xl mr-4",children:"\uD83D\uDC65"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:a.totalUtilizations}),(0,t.jsx)("div",{className:"text-gray-600",children:"Total Utilizations"})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"text-3xl mr-4",children:"⭐"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:a.averageRating.toFixed(1)}),(0,t.jsx)("div",{className:"text-gray-600",children:"Average Rating"})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"text-3xl mr-4",children:"✅"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:a.resourcesByStatus.active}),(0,t.jsx)("div",{className:"text-gray-600",children:"Active Resources"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Resources by Category"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(a.resourcesByCategory).map(e=>{let[s,r]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium capitalize",children:s.replace("-"," ")}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(r/a.totalResources*100,"%")}})}),(0,t.jsx)("span",{className:"text-sm text-gray-600 w-8",children:r})]})]},s)})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Utilization by Type"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(a.utilizationByType).map(e=>{let[s,r]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium capitalize",children:s.replace("_"," ")}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(r/a.totalUtilizations*100,"%")}})}),(0,t.jsx)("span",{className:"text-sm text-gray-600 w-8",children:r})]})]},s)})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:"\uD83D\uDCAC Peer Support Integration"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Connect users to peer support systems for enhanced community support and 1-on-1 buddy matching."}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Group Chat System"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Multi-user chat groups with auto-grouping and moderation"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("a",{href:"/peer-support-chat",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83D\uDE80 Launch Group Chat"}),(0,t.jsx)("a",{href:"/chat-moderation",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83D\uDEE1️ Chat Moderation"})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Gamification & Rewards"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Points, achievements, and rewards system to motivate engagement with mental health resources"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("a",{href:"/gamification",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83C\uDFAE Gamification Hub"}),(0,t.jsx)("a",{href:"/gamification-admin",target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83D\uDCCA Gamification Admin"})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Buddy Pairing System"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"1-on-1 peer matching with smart compatibility algorithms and safety features"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("a",{href:"/buddy-system",target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83E\uDD1D Launch Buddy System"}),(0,t.jsx)("a",{href:"/buddy-admin",target:"_blank",rel:"noopener noreferrer",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 text-sm",children:"\uD83D\uDCCA Buddy Admin Dashboard"})]})]})]})]})},c=e=>{let{getAllFeedback:s}=e,[a]=(0,r.useState)(s());return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold",children:["Recent Feedback (",a.length,")"]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:a.slice(0,20).map(e=>(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(s=>(0,t.jsx)("span",{className:s<=e.rating?"text-yellow-400":"text-gray-300",children:"⭐"},s))}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Resource: ",e.resourceId]})]}),e.comment&&(0,t.jsx)("p",{className:"text-gray-700 mb-2",children:e.comment}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.timestamp.toLocaleDateString()," - Type: ",e.type]})]})})},e.id))})]})})},n=e=>{var s,a,l,i,d,c,n,o;let{resource:u,isEditing:m,onSave:x,onCancel:h,updateMultiLanguageText:p,addContactInfo:g,updateContactInfo:b,removeContactInfo:v,addService:y,updateService:j,removeService:f,addScheduleDay:N,updateScheduleDay:w,addTimeSlot:D,updateTimeSlot:C,setFormData:k}=e,[S,A]=(0,r.useState)("basic"),R=[{code:"en",name:"English"},{code:"zh",name:"中文"},{code:"bn",name:"বাংলা"},{code:"ta",name:"தமிழ்"},{code:"my",name:"မြန်မာ"},{code:"idn",name:"Bahasa Indonesia"}],F=["phone","whatsapp","email","website","walk-in","appointment","online-chat","video-call"],E=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-screen overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:m?"Edit Resource":"Add New Resource"}),(0,t.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]}),(0,t.jsx)("div",{className:"mt-4 border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"basic",label:"Basic Info",icon:"\uD83D\uDCDD"},{id:"contact",label:"Contact",icon:"\uD83D\uDCDE"},{id:"services",label:"Services",icon:"\uD83C\uDFE5"},{id:"schedule",label:"Schedule",icon:"\uD83D\uDD52"},{id:"features",label:"Features",icon:"⭐"}].map(e=>(0,t.jsxs)("button",{onClick:()=>A(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat(S===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,t.jsx)("span",{children:e.icon}),e.label]},e.id))})})]}),(0,t.jsxs)("div",{className:"p-6",children:["basic"===S&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource ID *"}),(0,t.jsx)("input",{type:"text",value:u.id||"",onChange:e=>k(s=>({...s,id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"unique-resource-id",disabled:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,t.jsxs)("select",{value:u.category||"",onChange:e=>k(s=>({...s,category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select a category"}),["dormitory-based","helplines","clinics","online-services","peer-support","government-services","ngo-services","emergency-services"].map(e=>(0,t.jsx)("option",{value:e,children:e.replace("-"," ")},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Name *"}),(0,t.jsx)("div",{className:"space-y-3",children:R.map(e=>{var s;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:e.name}),(0,t.jsx)("input",{type:"text",value:(null===(s=u.name)||void 0===s?void 0:s[e.code])||"",onChange:s=>p("name",e.code,s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Resource name in ".concat(e.name)})]},e.code)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("div",{className:"space-y-3",children:R.map(e=>{var s;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:e.name}),(0,t.jsx)("textarea",{value:(null===(s=u.description)||void 0===s?void 0:s[e.code])||"",onChange:s=>p("description",e.code,s.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Description in ".concat(e.name)})]},e.code)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,t.jsx)("div",{className:"space-y-3",children:R.map(e=>{var s,a;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:e.name}),(0,t.jsx)("input",{type:"text",value:(null===(a=u.location)||void 0===a?void 0:null===(s=a.address)||void 0===s?void 0:s[e.code])||"",onChange:s=>{k(a=>{var t;return{...a,location:{...a.location,address:{...(null===(t=a.location)||void 0===t?void 0:t.address)||{},[e.code]:s.target.value}}}})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Address in ".concat(e.name)})]},e.code)})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),(0,t.jsx)("input",{type:"number",step:"any",value:(null===(a=u.location)||void 0===a?void 0:null===(s=a.coordinates)||void 0===s?void 0:s.latitude)||0,onChange:e=>{k(s=>{var a;return{...s,location:{...s.location,coordinates:{...null===(a=s.location)||void 0===a?void 0:a.coordinates,latitude:parseFloat(e.target.value)||0}}}})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),(0,t.jsx)("input",{type:"number",step:"any",value:(null===(i=u.location)||void 0===i?void 0:null===(l=i.coordinates)||void 0===l?void 0:l.longitude)||0,onChange:e=>{k(s=>{var a;return{...s,location:{...s.location,coordinates:{...null===(a=s.location)||void 0===a?void 0:a.coordinates,longitude:parseFloat(e.target.value)||0}}}})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]})]}),"contact"===S&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Contact Information"}),(0,t.jsx)("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Contact Method"})]}),(0,t.jsx)("div",{className:"space-y-4",children:null===(d=u.contactInfo)||void 0===d?void 0:d.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Method"}),(0,t.jsx)("select",{value:e.method,onChange:e=>b(s,"method",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:F.map(e=>(0,t.jsx)("option",{value:e,children:e.replace("-"," ")},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),(0,t.jsx)("input",{type:"text",value:e.value,onChange:e=>b(s,"value",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Contact value"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("input",{type:"text",value:e.description||"",onChange:e=>b(s,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional description"})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.isPrimary||!1,onChange:e=>b(s,"isPrimary",e.target.checked),className:"mr-2"}),"Primary"]})}),(0,t.jsx)("button",{onClick:()=>v(s),className:"text-red-600 hover:text-red-800",children:"Remove"})]})]},s))})]}),"services"===S&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Services Offered"}),(0,t.jsx)("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Service"})]}),(0,t.jsx)("div",{className:"space-y-6",children:null===(c=u.servicesOffered)||void 0===c?void 0:c.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Service ",s+1]}),(0,t.jsx)("button",{onClick:()=>f(s),className:"text-red-600 hover:text-red-800",children:"Remove"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name"}),(0,t.jsx)("div",{className:"space-y-2",children:R.map(a=>{var r;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:a.name}),(0,t.jsx)("input",{type:"text",value:(null===(r=e.service)||void 0===r?void 0:r[a.code])||"",onChange:t=>{j(s,"service",{...e.service,[a.code]:t.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Service name in ".concat(a.name)})]},a.code)})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Description"}),(0,t.jsx)("div",{className:"space-y-2",children:R.map(a=>{var r;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:a.name}),(0,t.jsx)("textarea",{value:(null===(r=e.description)||void 0===r?void 0:r[a.code])||"",onChange:t=>{j(s,"description",{...e.description,[a.code]:t.target.value})},rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Service description in ".concat(a.name)})]},a.code)})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost"}),(0,t.jsxs)("select",{value:e.cost,onChange:e=>j(s,"cost",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"free",children:"Free"}),(0,t.jsx)("option",{value:"paid",children:"Paid"}),(0,t.jsx)("option",{value:"sliding-scale",children:"Sliding Scale"}),(0,t.jsx)("option",{value:"insurance",children:"Insurance"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),(0,t.jsx)("input",{type:"text",value:e.duration||"",onChange:e=>j(s,"duration",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 60 minutes"})]}),(0,t.jsx)("div",{className:"flex items-center pt-6",children:(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.requiresAppointment||!1,onChange:e=>j(s,"requiresAppointment",e.target.checked),className:"mr-2"}),"Requires Appointment"]})})]})]},s))})]}),"schedule"===S&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Operating Schedule"}),(0,t.jsx)("button",{onClick:N,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Day"})]}),(0,t.jsx)("div",{className:"space-y-4",children:null===(n=u.schedule)||void 0===n?void 0:n.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),(0,t.jsx)("select",{value:e.day,onChange:e=>w(s,"day",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:E.map(e=>(0,t.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,t.jsx)("div",{className:"flex items-center pt-6",children:(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.isOpen,onChange:e=>w(s,"isOpen",e.target.checked),className:"mr-2"}),"Open"]})}),(0,t.jsx)("div",{className:"flex items-center pt-6",children:(0,t.jsx)("button",{onClick:()=>D(s),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"Add Time Slot"})})]}),e.isOpen&&(0,t.jsx)("div",{className:"space-y-2",children:e.timeSlots.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"time",value:e.start,onChange:e=>C(s,a,"start",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("span",{children:"to"}),(0,t.jsx)("input",{type:"time",value:e.end,onChange:e=>C(s,a,"end",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("button",{onClick:()=>{k(e=>{var t;return{...e,schedule:(null===(t=e.schedule)||void 0===t?void 0:t.map((e,t)=>t===s?{...e,timeSlots:e.timeSlots.filter((e,s)=>s!==a)}:e))||[]}})},className:"text-red-600 hover:text-red-800 px-2",children:"Remove"})]},a))})]},s))})]}),"features"===S&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Resource Features"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(u.features||{}).map(e=>{let[s,a]=e;return(0,t.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[(0,t.jsx)("input",{type:"checkbox",checked:!!a,onChange:e=>{k(a=>({...a,features:{hasChildcare:!1,providesTransportation:!1,hasOnlineOption:!1,has24HourSupport:!1,providesFollowUp:!1,hasGroupSessions:!1,hasIndividualSessions:!1,providesCrisisIntervention:!1,...a.features,[s]:e.target.checked}}))},className:"mr-3"}),(0,t.jsx)("span",{className:"font-medium",children:s.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,e=>e.toUpperCase())})]},s)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-md font-medium mb-3",children:"Supported Languages"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:R.map(e=>{var s;return(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null===(s=u.supportedLanguages)||void 0===s?void 0:s.includes(e.code))||!1,onChange:s=>{let a=u.supportedLanguages||[],t=s.target.checked?[...a,e.code]:a.filter(s=>s!==e.code);k(e=>({...e,supportedLanguages:t}))},className:"mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:e.name})]},e.code)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:(null===(o=u.tags)||void 0===o?void 0:o.join(", "))||"",onChange:e=>{let s=e.target.value.split(",").map(e=>e.trim()).filter(Boolean);k(e=>({...e,tags:s}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"mental health, counseling, crisis support"})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end gap-4",children:[(0,t.jsx)("button",{onClick:h,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:m?"Update Resource":"Create Resource"})]})]})})};var o=!0;s.default=()=>{let{t:e,i18n:s}=(0,l.$G)("common"),[a]=(0,r.useState)(()=>new i.Z),[o,u]=(0,r.useState)([]),[m,x]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)("resources"),[v,y]=(0,r.useState)({});(0,r.useEffect)(()=>{j()},[]);let j=()=>{try{let e=a.searchResources({}).map(e=>({...e.resource,isActive:!0,createdAt:new Date,updatedAt:new Date,supportedLanguages:["en"]}));u(e)}catch(e){console.error("Failed to load resources:",e)}},f=e=>{x(e),y(e),p(!0)},N=async()=>{try{var e;if(!v.id||!(null===(e=v.name)||void 0===e?void 0:e.en)||!v.category){alert("Please fill in all required fields");return}let s={...v,id:v.id||"resource-".concat(Date.now()),updatedAt:new Date,createdAt:v.createdAt||new Date};m?a.updateResource(s.id,s):a.addResource(s),j(),p(!1),x(null),y({})}catch(e){console.error("Failed to save resource:",e),alert("Failed to save resource. Please try again.")}},w=e=>{if(confirm("Are you sure you want to delete this resource?"))try{let s=o.filter(s=>s.id!==e);u(s)}catch(e){console.error("Failed to delete resource:",e),alert("Failed to delete resource. Please try again.")}},D=e=>{try{let s={...e,isActive:!e.isActive};a.updateResource(e.id,s),j()}catch(e){console.error("Failed to update resource status:",e)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"\uD83C\uDFE5 Mental Health Resources Admin"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage mental health services and resources"})]}),(0,t.jsx)("button",{onClick:()=>{x(null),y({id:"",name:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},description:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},category:"clinics",contactInfo:[],location:{address:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},coordinates:{latitude:0,longitude:0}},servicesOffered:[],schedule:[],features:{hasChildcare:!1,providesTransportation:!1,hasOnlineOption:!1,has24HourSupport:!1,providesFollowUp:!1,hasGroupSessions:!1,hasIndividualSessions:!1,providesCrisisIntervention:!1},qualityMetrics:{averageRating:0,totalReviews:0,responseTime:"24 hours",successRate:0,waitTime:"varies"},tags:[],isActive:!0,supportedLanguages:["en"]}),p(!0)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:"➕ Add New Resource"})]}),(0,t.jsx)("div",{className:"mt-6 border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"resources",label:"Resources",icon:"\uD83C\uDFE5"},{id:"analytics",label:"Analytics",icon:"\uD83D\uDCCA"},{id:"feedback",label:"Feedback",icon:"\uD83D\uDCAC"}].map(e=>(0,t.jsxs)("button",{onClick:()=>b(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat(g===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:e.icon}),e.label]},e.id))})})]})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:["resources"===g&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold",children:["All Resources (",o.length,")"]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(e=>{var s;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("div",{className:"text-2xl mr-3",children:["dormitory-based"===e.category&&"\uD83C\uDFE0","helplines"===e.category&&"\uD83D\uDCDE","clinics"===e.category&&"\uD83C\uDFE5","online-services"===e.category&&"\uD83D\uDCBB","peer-support"===e.category&&"\uD83D\uDC65","emergency-services"===e.category&&"\uD83D\uDEA8"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name.en}),(0,t.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description.en})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.category.replace("-"," ")})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("button",{onClick:()=>D(e),className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(!1!==e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:!1!==e.isActive?"Active":"Inactive"})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["⭐ ",e.qualityMetrics.averageRating.toFixed(1)," (",e.qualityMetrics.totalReviews,")"]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(s=e.updatedAt)||void 0===s?void 0:s.toLocaleDateString())||new Date().toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit",children:"✏️"}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:"\uD83D\uDDD1️"})]})})]},e.id)})})]})})]})}),"analytics"===g&&(0,t.jsx)(d,{getAnalytics:()=>{let e=o.filter(e=>!1!==e.isActive).length,s=o.length-e,a={};return o.forEach(e=>{a[e.category]=(a[e.category]||0)+1}),{totalResources:o.length,totalUtilizations:10*o.length,averageRating:o.reduce((e,s)=>e+s.qualityMetrics.averageRating,0)/o.length||0,resourcesByStatus:{active:e,inactive:s},resourcesByCategory:a,utilizationByType:{phone_calls:45,walk_ins:32,online_sessions:23}}}}),"feedback"===g&&(0,t.jsx)(c,{getAllFeedback:()=>[{id:"feedback-1",resourceId:"resource-1",rating:5,comment:"Very helpful service",type:"positive",timestamp:new Date}]})]}),h&&(0,t.jsx)(n,{resource:v,isEditing:!!m,onSave:N,onCancel:()=>{p(!1),x(null),y({})},updateMultiLanguageText:(e,s,a)=>{y(t=>({...t,[e]:{...t[e]||{},[s]:a}}))},addContactInfo:()=>{y(e=>({...e,contactInfo:[...e.contactInfo||[],{method:"phone",value:"",description:"",isPrimary:!1,languages:["en"]}]}))},updateContactInfo:(e,s,a)=>{y(t=>{var r;return{...t,contactInfo:(null===(r=t.contactInfo)||void 0===r?void 0:r.map((t,r)=>r===e?{...t,[s]:a}:t))||[]}})},removeContactInfo:e=>{y(s=>{var a;return{...s,contactInfo:(null===(a=s.contactInfo)||void 0===a?void 0:a.filter((s,a)=>a!==e))||[]}})},addService:()=>{y(e=>({...e,servicesOffered:[...e.servicesOffered||[],{service:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},description:{en:"",zh:"",bn:"",ta:"",my:"",idn:""},cost:"free",duration:"",requiresAppointment:!0,languages:["en"]}]}))},updateService:(e,s,a)=>{y(t=>{var r;return{...t,servicesOffered:(null===(r=t.servicesOffered)||void 0===r?void 0:r.map((t,r)=>r===e?{...t,[s]:a}:t))||[]}})},removeService:e=>{y(s=>{var a;return{...s,servicesOffered:(null===(a=s.servicesOffered)||void 0===a?void 0:a.filter((s,a)=>a!==e))||[]}})},addScheduleDay:()=>{y(e=>({...e,schedule:[...e.schedule||[],{day:"monday",isOpen:!0,timeSlots:[]}]}))},updateScheduleDay:(e,s,a)=>{y(t=>{var r;return{...t,schedule:(null===(r=t.schedule)||void 0===r?void 0:r.map((t,r)=>r===e?{...t,[s]:a}:t))||[]}})},addTimeSlot:e=>{y(s=>{var a;return{...s,schedule:(null===(a=s.schedule)||void 0===a?void 0:a.map((s,a)=>a===e?{...s,timeSlots:[...s.timeSlots,{start:"09:00",end:"17:00"}]}:s))||[]}})},updateTimeSlot:(e,s,a,t)=>{y(r=>{var l;return{...r,schedule:(null===(l=r.schedule)||void 0===l?void 0:l.map((r,l)=>l===e?{...r,timeSlots:r.timeSlots.map((e,r)=>r===s?{...e,[a]:t}:e)}:r))||[]}})},setFormData:y})]})}}},function(e){e.O(0,[645,888,774,179],function(){return e(e.s=6202)}),_N_E=e.O()}]);