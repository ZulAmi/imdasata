(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{8131:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gamification",function(){return s(4290)}])},4290:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(5893),a=s(7294),r=s(9008),i=s.n(r),o=s(1193),l=s(3923),c=e=>{let{onScanSuccess:t,onScanError:s,isOpen:r,onClose:i}=e,[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(null),[x,g]=(0,a.useState)(!1),p=(0,a.useRef)(null),b=(0,a.useRef)(null),D=(0,a.useRef)(null);(0,a.useEffect)(()=>(r&&o?v():y(),()=>{y()}),[r,o]);let v=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:640},height:{ideal:480}}});D.current=e,p.current&&(p.current.srcObject=e,p.current.play(),p.current.onloadedmetadata=()=>{j()})}catch(e){console.error("Camera access denied:",e),null==s||s("Camera access denied. Please use manual input."),g(!0)}},y=()=>{D.current&&(D.current.getTracks().forEach(e=>e.stop()),D.current=null)},j=()=>{if(!p.current||!b.current)return;let e=p.current,t=b.current,s=t.getContext("2d");s&&(t.width=e.videoWidth,t.height=e.videoHeight,s.drawImage(e,0,0,t.width,t.height),s.getImageData(0,0,t.width,t.height),setTimeout(()=>{o&&j()},100))},f=async e=>{try{let n=await l.b.validateQRRedemption(e);h(n),n.valid?null==t||t(n):null==s||s(n.message)}catch(e){null==s||s("Invalid QR code format")}},w=async()=>{(null==m?void 0:m.redemption)&&(l.b.completeQRRedemption(m.redemption.id,"Manual Scanner")?(alert("Reward successfully redeemed!"),i()):alert("Failed to complete redemption"))};return r?(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md mx-4 w-full",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"Scan QR Code"}),(0,n.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),x?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter QR Code Data"}),(0,n.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Paste or type the QR code data here..."})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>{d.trim()&&f(d.trim())},disabled:!d.trim(),className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Validate Code"}),(0,n.jsx)("button",{onClick:()=>g(!1),className:"py-2 px-4 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Back to Camera"})]})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("video",{ref:p,className:"w-full rounded-lg border",style:{maxHeight:"300px"},playsInline:!0,muted:!0}),(0,n.jsx)("canvas",{ref:b,className:"hidden"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,n.jsxs)("div",{className:"w-48 h-48 border-2 border-white rounded-lg opacity-50",children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 w-6 h-6 border-l-4 border-t-4 border-blue-500"}),(0,n.jsx)("div",{className:"absolute top-0 right-0 w-6 h-6 border-r-4 border-t-4 border-blue-500"}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-l-4 border-b-4 border-blue-500"}),(0,n.jsx)("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-r-4 border-b-4 border-blue-500"})]})})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>c(!o),className:"flex-1 py-2 px-4 rounded-md font-medium transition-colors ".concat(o?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"),children:o?"Stop Scanning":"Start Scanning"}),(0,n.jsx)("button",{onClick:()=>g(!0),className:"py-2 px-4 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Manual Input"})]})]}),m&&(0,n.jsxs)("div",{className:"mt-4 p-4 rounded-lg ".concat(m.valid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,n.jsx)("div",{className:"font-medium ".concat(m.valid?"text-green-800":"text-red-800"),children:m.message}),m.valid&&m.redemption&&(0,n.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,n.jsxs)("div",{className:"text-sm text-green-700",children:[(0,n.jsx)("strong",{children:"Redemption ID:"})," ",m.redemption.id]}),(0,n.jsxs)("div",{className:"text-sm text-green-700",children:[(0,n.jsx)("strong",{children:"User ID:"})," ",m.redemption.userId]}),(0,n.jsxs)("div",{className:"text-sm text-green-700",children:[(0,n.jsx)("strong",{children:"Expires:"})," ",new Date(m.redemption.expiresAt).toLocaleDateString()]}),(0,n.jsx)("button",{onClick:w,className:"w-full mt-3 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Complete Redemption"})]})]}),(0,n.jsx)("div",{className:"mt-4 text-xs text-gray-600",children:(0,n.jsx)("p",{children:"\uD83D\uDCF1 Position the QR code within the frame and ensure good lighting for best results. If camera scanning doesn't work, use the manual input option."})})]})}):null};class d{static onDailyCheckIn(e,t,s,n){l.b.recordDailyCheckIn(e,t,s),void 0!==n&&l.b.awardPoints(e,"check-in",5,"Stress level tracking bonus","check-in-stress-bonus",{stressLevel:n}),t>=8&&l.b.awardPoints(e,"check-in",5,"Great mood bonus! \uD83D\uDE0A","mood-bonus",{mood:t})}static onPHQ4Assessment(e,t,s,n){l.b.recordAssessment(e,"PHQ-4",n),l.b.awardPoints(e,"assessment",10,"PHQ-4 completion bonus","phq4-bonus",{anxietyScore:t,depressionScore:s,totalScore:n});let a=l.b.getTransactions(e).filter(e=>{var t;return"assessment"===e.category&&(null===(t=e.metadata)||void 0===t?void 0:t.assessmentType)==="PHQ-4"}).slice(0,2);if(a.length>0){var r;let t=(null===(r=a[0].metadata)||void 0===r?void 0:r.score)||0;n<t&&l.b.awardPoints(e,"assessment",15,"Improvement detected! \uD83C\uDF89","improvement-bonus",{previousScore:t,currentScore:n,improvement:t-n})}}static onEducationalContentEngagement(e,t,s,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;l.b.recordEducationalEngagement(e,s,n),a>=90&&l.b.awardPoints(e,"education",10,"Content completion bonus! \uD83D\uDCDA","completion-bonus",{contentId:t,completionRate:a}),a>=95&&"article"===s&&n<180&&l.b.awardPoints(e,"education",5,"Speed reader bonus! \uD83D\uDE80","speed-bonus",{contentId:t,duration:n,completionRate:a}),"quiz"===s&&a>=80&&l.b.awardPoints(e,"education",a>=95?20:a>=90?15:10,"Quiz mastery: ".concat(a,"%! \uD83E\uDDE0"),"quiz-excellence",{contentId:t,score:a})}static onPeerSupportActivity(e,t,s,n,a){l.b.recordPeerSupportActivity(e,t,n),0===l.b.getTransactions(e).filter(e=>{var t;return"peer-support"===e.category&&(null===(t=e.metadata)||void 0===t?void 0:t.groupId)===s}).length&&l.b.awardPoints(e,"peer-support",15,"Welcome to the group! \uD83D\uDC4B","first-group-bonus",{groupId:s,activityType:t}),"group-message"===t&&a&&a>100&&l.b.awardPoints(e,"peer-support",8,"Thoughtful message bonus! \uD83D\uDCAD","thoughtful-message",{groupId:s,messageLength:a});let r=l.b.getTransactions(e).filter(e=>{var t;return(Date.now()-e.timestamp.getTime())/864e5<=7&&"peer-support"===e.category&&(null===(t=e.metadata)||void 0===t?void 0:t.groupId)===s});r.length>=5&&l.b.awardPoints(e,"peer-support",20,"Group leader bonus! \uD83D\uDC51","group-leader",{groupId:s,weeklyActivity:r.length})}static onBuddyInteraction(e,t,s,n,a,r){l.b.recordBuddyInteraction(e,s,n,a),l.b.getTransactions(t).filter(e=>(Date.now()-e.timestamp.getTime())/864e5<=1&&"buddy"===e.category).length>0&&l.b.awardPoints(e,"buddy",10,"Mutual support bonus! \uD83E\uDD1D","mutual-support",{buddyId:t,interactionType:s}),"supportive"===r&&l.b.awardPoints(e,"buddy",8,"Supportive buddy bonus! \uD83D\uDC96","supportive-buddy",{buddyId:t,sentiment:r}),"voice-call"===s&&a&&a>1800&&l.b.awardPoints(e,"buddy",15,"Deep connection bonus! \uD83D\uDDE3️","long-conversation",{buddyId:t,duration:a});let i=l.b.getTransactions(e).filter(e=>{var t;return(Date.now()-e.timestamp.getTime())/864e5<=7&&"buddy"===e.category&&"buddy-system"===e.source&&(null===(t=e.metadata)||void 0===t?void 0:t.interactionType)==="check-in"});i.length>=3&&l.b.awardPoints(e,"buddy",25,"Consistent buddy support! \uD83C\uDF1F","buddy-consistency",{buddyId:t,weeklyCheckins:i.length})}static onResourceUtilization(e,t,s,n,a){l.b.recordResourceUtilization(e,s,n),0===l.b.getTransactions(e).filter(e=>{var t;return"resource"===e.category&&(null===(t=e.metadata)||void 0===t?void 0:t.resourceType)===s}).length&&l.b.awardPoints(e,"resource",20,"First ".concat(s.replace("-"," ")," usage! \uD83C\uDF1F"),"first-resource-usage",{resourceType:s,resourceId:t}),"contact"===n&&["hotline","counselor","clinic"].includes(s)&&l.b.awardPoints(e,"resource",30,"Seeking help takes courage! \uD83D\uDCAA","help-seeking-bonus",{resourceType:s,resourceId:t}),("share"===n||"review"===n)&&l.b.awardPoints(e,"resource",15,"Community contribution bonus! \uD83E\uDD32","community-contribution",{resourceType:s,resourceId:t,engagement:n}),"emergency"===s&&"contact"===n&&l.b.awardPoints(e,"resource",50,"Crisis support - you're not alone! \uD83C\uDD98","crisis-support",{resourceId:t})}static onPlatformMilestone(e,t,s){l.b.awardPoints(e,"achievement",{"first-login":25,"profile-complete":35,"settings-configured":20,"tutorial-complete":30,"first-week":100,"first-month":250}[t],{"first-login":"Welcome to SATA! \uD83C\uDF89","profile-complete":"Profile completed! \uD83D\uDC64","settings-configured":"Settings configured! ⚙️","tutorial-complete":"Tutorial mastered! \uD83C\uDF93","first-week":"One week strong! \uD83D\uDCC5","first-month":"Monthly champion! \uD83C\uDFC6"}[t],"platform-milestone",{milestoneType:t,...s})}static onStreakMaintenance(e,t,s){s%7==0&&s>0&&l.b.awardPoints(e,"streak",Math.min(s/7*10,50),"".concat(s,"-day ").concat(t," streak! \uD83D\uDD25"),"weekly-streak-bonus",{streakType:t,streakLength:s}),30===s&&l.b.awardPoints(e,"streak",100,"Monthly streak achievement! \uD83C\uDF19","monthly-streak",{streakType:t,streakLength:s}),100===s&&l.b.awardPoints(e,"streak",500,"100-day streak - EPIC! \uD83C\uDFAF","epic-streak",{streakType:t,streakLength:s}),365===s&&l.b.awardPoints(e,"streak",1e3,"Year-long streak - LEGENDARY! \uD83D\uDC51","legendary-streak",{streakType:t,streakLength:s})}static onSpecialEvent(e,t,s,n){var a;let r=(null===(a=({"mental-health-day":{attend:50,organize:100,share:25,"complete-challenge":75},"wellness-week":{attend:40,organize:150,share:30,"complete-challenge":100},"community-challenge":{attend:35,organize:80,share:20,"complete-challenge":60},holiday:{attend:30,organize:60,share:15,"complete-challenge":45},anniversary:{attend:75,organize:200,share:50,"complete-challenge":125}})[t])||void 0===a?void 0:a[s])||25;l.b.awardPoints(e,"achievement",r,"".concat(t.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())," ").concat(s,"! \uD83C\uDF8A"),"special-event",{eventType:t,participation:s,...n}),"organize"===s&&l.b.awardPoints(e,"achievement",50,"Community builder bonus! \uD83C\uDFD7️","community-builder",{eventType:t})}static onMoodTrend(e,t,s,n){"improving"===t&&l.b.awardPoints(e,"check-in",25,"Mood improving over ".concat(s," days! \uD83D\uDCC8"),"mood-improvement",{trendType:t,duration:s,averageMood:n}),"consistent-good"===t&&s>=7&&l.b.awardPoints(e,"check-in",35,"Consistently good mood for ".concat(s," days! ☀️"),"mood-consistency",{trendType:t,duration:s,averageMood:n}),"recovery"===t&&l.b.awardPoints(e,"check-in",50,"Recovery progress recognized! \uD83C\uDF08","recovery-progress",{trendType:t,duration:s,averageMood:n})}static getUserGamificationSummary(e){let t=l.b.getUser(e),s=l.b.getUserStats(e),n=l.b.getLeaderboard("all-time",100).findIndex(t=>t.userId===e)+1;return{user:t,stats:s,rank:n||null,isTopPerformer:n<=10,pointsThisWeek:this.getPointsThisWeek(e),nextReward:this.getNextAffordableReward(e)}}static getPointsThisWeek(e){let t=l.b.getTransactions(e),s=new Date;return s.setDate(s.getDate()-7),t.filter(e=>"earn"===e.type&&e.timestamp>=s).reduce((e,t)=>e+t.amount,0)}static getNextAffordableReward(e){let t=l.b.getUser(e);if(!t)return null;let s=l.b.getAvailableRewards(e);return s.filter(e=>e.pointCost<=t.availablePoints).sort((e,t)=>e.pointCost-t.pointCost)[0]||s.sort((e,t)=>e.pointCost-t.pointCost)[0]}}var u=()=>{var e,t,s;let[r,i]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(0),[g,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e="demo_user_"+Date.now();i(e),l.b.createUser({userId:e,username:"Demo User",email:"demo@sata.com"})},[]);let b=[{title:"Welcome to SATA Gamification! \uD83C\uDFAE",description:"Let's demonstrate how the gamification system rewards mental health engagement.",action:()=>{}},{title:"Daily Check-in \uD83D\uDCDD",description:"Starting with a daily mood check-in...",action:()=>{d.onDailyCheckIn(r,8,"Feeling optimistic today!",4)}},{title:"PHQ-4 Assessment \uD83D\uDCCA",description:"Taking a mental health assessment...",action:()=>{d.onPHQ4Assessment(r,2,3,5)}},{title:"Educational Content \uD83D\uDCDA",description:"Engaging with educational materials...",action:()=>{d.onEducationalContentEngagement(r,"stress-management-article","article",240,95)}},{title:"Peer Support Group \uD83E\uDD1D",description:"Participating in peer support...",action:()=>{d.onPeerSupportActivity(r,"support-given","support-group-123",5,150)}},{title:"Buddy Interaction \uD83D\uDC65",description:"Having a meaningful buddy conversation...",action:()=>{d.onBuddyInteraction(r,"buddy_456","voice-call",5,1200,"supportive")}},{title:"Resource Utilization \uD83C\uDFE5",description:"Using mental health resources...",action:()=>{d.onResourceUtilization(r,"counselor-123","counselor","contact")}},{title:"Building Streaks \uD83D\uDD25",description:"Maintaining consistent engagement...",action:()=>{d.onStreakMaintenance(r,"daily-check-in",7)}},{title:"Special Achievement \uD83C\uDFC6",description:"Unlocking a special milestone...",action:()=>{d.onSpecialEvent(r,"mental-health-day","complete-challenge")}},{title:"Demo Complete! \uD83C\uDF89",description:"You've seen all the gamification features in action. Now you can explore the full interface!",action:()=>{l.b.awardPoints(r,"achievement",100,"Demo completion bonus! \uD83C\uDF8A","demo-completion")}}],D=async()=>{p(!0);for(let e=0;e<b.length;e++)x(e),await new Promise(e=>setTimeout(e,2e3)),b[e].action(),await new Promise(e=>setTimeout(e,1500));p(!1)};return r?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white",children:(0,n.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83C\uDFAE SATA Gamification Demo"}),(0,n.jsx)("p",{className:"text-blue-100 mb-4",children:"Experience how our gamification system motivates mental health engagement"}),g?(0,n.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 max-w-md mx-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[(0,n.jsx)("div",{className:"animate-spin text-2xl",children:"⚡"}),(0,n.jsx)("span",{className:"font-semibold",children:"Running Demo"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("p",{className:"text-sm mb-2",children:["Step ",h+1," of ",b.length]}),(0,n.jsx)("h3",{className:"font-medium",children:null===(e=b[h])||void 0===e?void 0:e.title}),(0,n.jsx)("p",{className:"text-xs text-blue-100 mt-1",children:null===(t=b[h])||void 0===t?void 0:t.description})]}),(0,n.jsx)("div",{className:"w-full bg-purple-800 rounded-full h-2 mt-3",children:(0,n.jsx)("div",{className:"bg-white rounded-full h-2 transition-all duration-500",style:{width:"".concat((h+1)/b.length*100,"%")}})})]}):(0,n.jsxs)("div",{className:"space-x-4",children:[(0,n.jsx)("button",{onClick:D,className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"\uD83D\uDE80 Run Interactive Demo"}),(0,n.jsx)("button",{onClick:()=>m(!0),className:"bg-purple-800 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-900 transition-colors",children:"\uD83D\uDCF1 Test QR Scanner"})]})]})})}),g&&(0,n.jsx)("div",{className:"bg-yellow-50 border-b border-yellow-200",children:(0,n.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-3",children:(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,n.jsx)("div",{className:"animate-pulse text-2xl",children:"\uD83C\uDFAF"}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,n.jsx)("strong",{children:"Simulating:"})," ",null===(s=b[h])||void 0===s?void 0:s.description]}),(0,n.jsx)("p",{className:"text-xs text-yellow-600",children:"Watch the points and achievements update in real-time!"})]})]})})}),(0,n.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"\uD83C\uDFAF Try These Actions"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[(0,n.jsxs)("button",{onClick:()=>d.onDailyCheckIn(r,Math.floor(5*Math.random())+6),className:"p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors text-center",children:[(0,n.jsx)("div",{className:"text-xl mb-1",children:"✅"}),(0,n.jsx)("div",{className:"text-xs font-medium",children:"Daily Check-in"})]}),(0,n.jsxs)("button",{onClick:()=>d.onPHQ4Assessment(r,2,2,4),className:"p-3 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors text-center",children:[(0,n.jsx)("div",{className:"text-xl mb-1",children:"\uD83D\uDCCA"}),(0,n.jsx)("div",{className:"text-xs font-medium",children:"Take Assessment"})]}),(0,n.jsxs)("button",{onClick:()=>d.onEducationalContentEngagement(r,"demo-article","article",180,90),className:"p-3 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors text-center",children:[(0,n.jsx)("div",{className:"text-xl mb-1",children:"\uD83D\uDCDA"}),(0,n.jsx)("div",{className:"text-xs font-medium",children:"Read Article"})]}),(0,n.jsxs)("button",{onClick:()=>d.onPeerSupportActivity(r,"support-given","demo-group",4,120),className:"p-3 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition-colors text-center",children:[(0,n.jsx)("div",{className:"text-xl mb-1",children:"\uD83E\uDD1D"}),(0,n.jsx)("div",{className:"text-xs font-medium",children:"Help Others"})]}),(0,n.jsxs)("button",{onClick:()=>d.onBuddyInteraction(r,"demo-buddy","text-chat",5),className:"p-3 bg-pink-50 border border-pink-200 rounded-lg hover:bg-pink-100 transition-colors text-center",children:[(0,n.jsx)("div",{className:"text-xl mb-1",children:"\uD83D\uDCAC"}),(0,n.jsx)("div",{className:"text-xs font-medium",children:"Chat with Buddy"})]}),(0,n.jsxs)("button",{onClick:()=>d.onResourceUtilization(r,"demo-resource","counselor","view"),className:"p-3 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors text-center",children:[(0,n.jsx)("div",{className:"text-xl mb-1",children:"\uD83C\uDFE5"}),(0,n.jsx)("div",{className:"text-xs font-medium",children:"Use Resource"})]})]})]})}),(0,n.jsx)(o.Z,{userId:r}),(0,n.jsx)(c,{isOpen:u,onClose:()=>m(!1),onScanSuccess:e=>{console.log("QR Scan Success:",e),m(!1)},onScanError:e=>{console.error("QR Scan Error:",e),alert("QR Scan Error: ".concat(e))}}),(0,n.jsx)("div",{className:"bg-gray-100 border-t border-gray-200",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold text-center mb-6",children:"\uD83C\uDF1F Gamification Features"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,n.jsx)("div",{className:"text-3xl mb-3 text-center",children:"\uD83D\uDC8E"}),(0,n.jsx)("h4",{className:"font-semibold text-center mb-2",children:"Points System"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Earn points for daily check-ins, assessments, learning, and peer support"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,n.jsx)("div",{className:"text-3xl mb-3 text-center",children:"\uD83C\uDFC6"}),(0,n.jsx)("h4",{className:"font-semibold text-center mb-2",children:"Achievements"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Unlock badges and achievements for milestones and consistent engagement"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,n.jsx)("div",{className:"text-3xl mb-3 text-center",children:"\uD83D\uDD25"}),(0,n.jsx)("h4",{className:"font-semibold text-center mb-2",children:"Streaks"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Build momentum with daily streaks and earn bonus points"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,n.jsx)("div",{className:"text-3xl mb-3 text-center",children:"\uD83C\uDF81"}),(0,n.jsx)("h4",{className:"font-semibold text-center mb-2",children:"Rewards"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Redeem points for wellness products, counseling sessions, and more"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,n.jsx)("div",{className:"text-3xl mb-3 text-center",children:"\uD83D\uDCF1"}),(0,n.jsx)("h4",{className:"font-semibold text-center mb-2",children:"QR Redemption"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Generate and scan QR codes for secure reward redemption"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,n.jsx)("div",{className:"text-3xl mb-3 text-center",children:"\uD83C\uDFC5"}),(0,n.jsx)("h4",{className:"font-semibold text-center mb-2",children:"Leaderboards"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Compete with others while maintaining privacy and support"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,n.jsx)("div",{className:"text-3xl mb-3 text-center",children:"\uD83D\uDCCA"}),(0,n.jsx)("h4",{className:"font-semibold text-center mb-2",children:"Analytics"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Track progress with detailed statistics and insights"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,n.jsx)("div",{className:"text-3xl mb-3 text-center",children:"\uD83C\uDFAE"}),(0,n.jsx)("h4",{className:"font-semibold text-center mb-2",children:"Levels"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Progress through levels with increasing perks and recognition"})]})]})]})})]}):(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4 animate-spin",children:"\uD83C\uDFAE"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Setting up gamification demo..."})]})})};let m=e=>{let{userId:t,onComplete:s}=e,[r,i]=(0,a.useState)(0),[o,c]=(0,a.useState)(""),d=[{title:"Welcome to SATA Gamification! \uD83C\uDFAE",description:"Turn your mental health journey into an engaging experience with points, achievements, and rewards.",icon:"\uD83C\uDF1F"},{title:"Earn Points Through Activities \uD83D\uDC8E",description:"Complete daily check-ins, take assessments, engage with educational content, and support your peers to earn points.",icon:"⭐"},{title:"Unlock Achievements & Level Up \uD83C\uDFC6",description:"Maintain streaks, reach milestones, and unlock special achievements as you progress through different levels.",icon:"\uD83C\uDFC5"},{title:"Redeem Amazing Rewards \uD83C\uDF81",description:"Use your points to unlock wellness products, digital content, and even counseling sessions.",icon:"\uD83C\uDF89"},{title:"Compete on Leaderboards \uD83C\uDFC5",description:"See how you rank against other community members and celebrate collective wellness achievements.",icon:"\uD83D\uDC65"}],u=()=>{l.b.createUser({userId:t,username:o||"User_".concat(t.slice(-6))}),setTimeout(()=>{l.b.recordDailyCheckIn(t,8,"Welcome check-in!")},1e3),setTimeout(()=>{l.b.recordEducationalEngagement(t,"article",180)},2e3),s()},m=d[r];return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl p-8 max-w-md mx-4 text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:m.icon}),(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:m.title}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:m.description}),0===r&&(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("input",{type:"text",placeholder:"Enter your display name (optional)",value:o,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"flex space-x-2",children:d.map((e,t)=>(0,n.jsx)("div",{className:"w-3 h-3 rounded-full transition-colors ".concat(t<=r?"bg-blue-500":"bg-gray-300")},t))}),(0,n.jsxs)("div",{className:"space-x-2",children:[r>0&&(0,n.jsx)("button",{onClick:()=>i(r-1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Back"}),(0,n.jsx)("button",{onClick:()=>{r<d.length-1?i(r+1):u()},className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:r===d.length-1?"Get Started!":"Next"})]})]})]})})};var h=()=>{let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e="true"===new URLSearchParams(window.location.search).get("demo");if(x(e),e){r(!1);return}let s=localStorage.getItem("currentUserId")||"user_".concat(Date.now());localStorage.setItem("currentUserId",s),l.b.getUser(s)||d(!0),t(s),r(!1)},[]),s)?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4 animate-bounce",children:"\uD83C\uDFAE"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Gamification System"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Preparing your rewards and achievements..."})]})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"Gamification - SATA Mental Health Platform"}),(0,n.jsx)("meta",{name:"description",content:"Track your mental health journey with points, achievements, and rewards"})]}),h?(0,n.jsx)(u,{}):(0,n.jsxs)(n.Fragment,{children:[c&&(0,n.jsx)(m,{userId:e,onComplete:()=>{d(!1)}}),(0,n.jsx)(o.Z,{userId:e})]})]})}},9008:function(e,t,s){e.exports=s(3867)}},function(e){e.O(0,[631,923,193,888,774,179],function(){return e(e.s=8131)}),_N_E=e.O()}]);