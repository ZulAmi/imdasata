(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{1271:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/peer-support",function(){return s(2233)}])},2233:function(e,a,s){"use strict";s.r(a),s.d(a,{__N_SSG:function(){return d}});var t=s(5893),n=s(7294),r=s(1798),i=s(9008),l=s.n(i),c=s(7338),o=s(4160);let u=e=>{let{preferences:a,onUpdatePreferences:s,onComplete:r,availableLanguages:i,availableCountries:l,availableInterests:c}=e,[o,u]=(0,n.useState)(1),d=(e,t)=>{s({...a,[e]:t})},m=(e,t)=>{s({...a,privacySettings:{...a.privacySettings,[e]:t}})},g=(e,a)=>e.includes(a)?e.filter(e=>e!==a):[...e,a];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(o/4*100,"%")}})}),(0,t.jsxs)("div",{className:"min-h-[300px]",children:[1===o&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-center",children:"What should we call you?"}),(0,t.jsx)("p",{className:"text-gray-600 text-center",children:"Choose a display name that others will see in chat groups. This helps maintain your privacy while allowing meaningful connections."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),(0,t.jsx)("input",{type:"text",value:a.displayName,onChange:e=>d("displayName",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., FriendlyHelper, SupportSeeker...",maxLength:20}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"\uD83D\uDCA1 Tip: Choose something positive and friendly. Avoid using your real name for privacy."})]})]}),2===o&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-center",children:"Which languages do you speak?"}),(0,t.jsx)("p",{className:"text-gray-600 text-center",children:"Select all languages you're comfortable chatting in. This helps us match you with the right groups."}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:i.map(e=>(0,t.jsx)("button",{onClick:()=>d("languages",g(a.languages,e.code)),className:"p-3 rounded-lg border-2 transition-all ".concat(a.languages.includes(e.code)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:e.flag}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name})]})},e.code))})]}),3===o&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-center",children:"What topics interest you?"}),(0,t.jsx)("p",{className:"text-gray-600 text-center",children:"Select areas where you'd like to give or receive support. This helps us suggest relevant groups."}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:c.map(e=>(0,t.jsx)("button",{onClick:()=>d("interests",g(a.interests,e.id)),className:"p-3 rounded-lg border-2 transition-all text-left ".concat(a.interests.includes(e.id)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:e.icon}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name})]})},e.id))}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-yellow-800",children:"\uD83D\uDCA1 Optional: You can skip this step and explore groups later, or select just a few to start."})})]}),4===o&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-center",children:"Privacy Settings"}),(0,t.jsx)("p",{className:"text-gray-600 text-center",children:"Control what information you share and how long your messages are kept."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"font-medium",children:"Show Country of Origin"}),(0,t.jsx)("input",{type:"checkbox",checked:a.privacySettings.showCountryOfOrigin,onChange:e=>m("showCountryOfOrigin",e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Allow others to see your country of origin to find people from similar backgrounds."})]}),(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"font-medium",children:"Allow Direct Messages"}),(0,t.jsx)("input",{type:"checkbox",checked:a.privacySettings.allowDirectMessages,onChange:e=>m("allowDirectMessages",e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Let other users send you private messages outside of group chats."})]}),(0,t.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,t.jsx)("label",{className:"block font-medium mb-2",children:"Message Retention"}),(0,t.jsxs)("select",{value:a.privacySettings.dataRetention,onChange:e=>m("dataRetention",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"minimal",children:"Minimal (7 days)"}),(0,t.jsx)("option",{value:"standard",children:"Standard (30 days)"}),(0,t.jsx)("option",{value:"extended",children:"Extended (90 days)"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"How long your messages are kept before being automatically deleted."})]}),(0,t.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-green-800",children:"\uD83D\uDD12 Your privacy is important. You can change these settings anytime in your profile."})})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,t.jsx)("button",{onClick:()=>{o>1&&u(o-1)},disabled:1===o,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>{o<4?u(o+1):r()},disabled:!(()=>{switch(o){case 1:return a.displayName.trim().length>0;case 2:return a.languages.length>0;case 3:case 4:return!0;default:return!1}})(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:4===o?"Start Chatting":"Next"})]})]})};var d=!0;a.default=()=>{let{t:e}=(0,r.$G)("common"),[a]=(0,n.useState)(()=>new o.Z),[s,i]=(0,n.useState)(null),[d,m]=(0,n.useState)(!0),[g,h]=(0,n.useState)({displayName:"",languages:[],countryOfOrigin:"",interests:[],privacySettings:{showCountryOfOrigin:!1,showLanguages:!0,allowDirectMessages:!0,dataRetention:"standard"}});(0,n.useEffect)(()=>{let e=localStorage.getItem("peer_chat_user_id");e&&(i(e),m(!1))},[]);let D=async()=>{try{let e=await a.registerUser({displayName:g.displayName||"User".concat(Math.floor(1e3*Math.random())),languagePreferences:g.languages,countryOfOrigin:g.countryOfOrigin||void 0,interests:g.interests,privacySettings:g.privacySettings});i(e.id),localStorage.setItem("peer_chat_user_id",e.id),m(!1)}catch(e){console.error("Failed to complete onboarding:",e)}};return d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l(),{children:[(0,t.jsx)("title",{children:"Peer Support Chat - SATA Mental Health"}),(0,t.jsx)("meta",{name:"description",content:"Connect with peers who understand your journey. Join supportive groups based on language, culture, and shared experiences."})]}),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD1D"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome to Peer Support Chat"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Connect with others who understand your journey. Set up your profile to find the right support groups for you."})]}),(0,t.jsx)(u,{preferences:g,onUpdatePreferences:h,onComplete:D,availableLanguages:[{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"zh",name:"中文 (Chinese)",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{code:"bn",name:"বাংলা (Bengali)",flag:"\uD83C\uDDE7\uD83C\uDDE9"},{code:"ta",name:"தமிழ் (Tamil)",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"my",name:"မြန်မာ (Myanmar)",flag:"\uD83C\uDDF2\uD83C\uDDF2"},{code:"idn",name:"Bahasa Indonesia",flag:"\uD83C\uDDEE\uD83C\uDDE9"},{code:"th",name:"ไทย (Thai)",flag:"\uD83C\uDDF9\uD83C\uDDED"},{code:"vi",name:"Tiếng Việt (Vietnamese)",flag:"\uD83C\uDDFB\uD83C\uDDF3"}],availableCountries:[{code:"BD",name:"Bangladesh",flag:"\uD83C\uDDE7\uD83C\uDDE9"},{code:"IN",name:"India",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"MM",name:"Myanmar",flag:"\uD83C\uDDF2\uD83C\uDDF2"},{code:"ID",name:"Indonesia",flag:"\uD83C\uDDEE\uD83C\uDDE9"},{code:"PH",name:"Philippines",flag:"\uD83C\uDDF5\uD83C\uDDED"},{code:"TH",name:"Thailand",flag:"\uD83C\uDDF9\uD83C\uDDED"},{code:"VN",name:"Vietnam",flag:"\uD83C\uDDFB\uD83C\uDDF3"},{code:"CN",name:"China",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{code:"PK",name:"Pakistan",flag:"\uD83C\uDDF5\uD83C\uDDF0"},{code:"LK",name:"Sri Lanka",flag:"\uD83C\uDDF1\uD83C\uDDF0"}],availableInterests:[{id:"mental_health",name:"Mental Health Support",icon:"\uD83E\uDDE0"},{id:"work_stress",name:"Work Stress",icon:"\uD83D\uDCBC"},{id:"homesickness",name:"Homesickness",icon:"\uD83C\uDFE0"},{id:"language_practice",name:"Language Practice",icon:"\uD83D\uDDE3️"},{id:"cultural_exchange",name:"Cultural Exchange",icon:"\uD83C\uDF0D"},{id:"newcomer_support",name:"Newcomer Support",icon:"\uD83C\uDD95"},{id:"financial_advice",name:"Financial Advice",icon:"\uD83D\uDCB0"},{id:"healthcare_navigation",name:"Healthcare Navigation",icon:"\uD83C\uDFE5"},{id:"legal_rights",name:"Legal Rights",icon:"⚖️"},{id:"social_activities",name:"Social Activities",icon:"\uD83C\uDF89"},{id:"family_support",name:"Family Support",icon:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"},{id:"career_development",name:"Career Development",icon:"\uD83D\uDCC8"}]})]})})]}):s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l(),{children:[(0,t.jsx)("title",{children:"Peer Support Chat - SATA Mental Health"}),(0,t.jsx)("meta",{name:"description",content:"Connect with peers in supportive group chats"})]}),(0,t.jsx)(c.Z,{userId:s,chatSystem:a})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"\uD83D\uDD04"}),(0,t.jsx)("p",{children:"Setting up your chat experience..."})]})})}}},function(e){e.O(0,[863,888,774,179],function(){return e(e.s=1271)}),_N_E=e.O()}]);